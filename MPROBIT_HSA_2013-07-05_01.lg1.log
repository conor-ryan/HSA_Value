26041  *LIBNAME DEFRAY 'C:\UM\Research\DEFCON3\Rx_risk';
26042  *LIBNAME NEWRAY 'C:\UM\Research\DEFCON3\RAY\Sep_2006';
26043  LIBNAME RAY 'C:\Shuttle\UM\Research\DEFCON3\Employers\RAY';
NOTE: Directory for library RAY contains files of mixed engine types.
NOTE: Libref RAY was successfully assigned as follows:
      Engine:        V9
      Physical Name: C:\Shuttle\UM\Research\DEFCON3\Employers\RAY
26044  RUN;

26045

26046

26047
26048  DATA RAY.CHOICE10
26049  (drop=
26050  ALEXEMPT
26051  AKEXEMPT
26052  AZEXEMPT
26053  AREXEMPT
26054  CAEXEMPT
26055  COEXEMPT
26056  CTEXEMPT
26057  DEEXEMPT
26058  DCEXEMPT
26059  FLEXEMPT
26060  GAEXEMPT
26061  HIEXEMPT
26062  IDEXEMPT
26063  ILEXEMPT
26064  INEXEMPT
26065  IAEXEMPT
26066  KSEXEMPT
26067  KYEXEMPT
26068  LAEXEMPT
26069  MEEXEMPT
26070  MDEXEMPT
26071  MAEXEMPT
26072  MIEXEMPT
26073  MNEXEMPT
26074  MSEXEMPT
26075  MOEXEMPT
26076  MTEXEMPT
26077  NEEXEMPT
26078  NVEXEMPT
26079  NHEXEMPT
26080  NJEXEMPT
26081  NMEXEMPT
26082  NYEXEMPT
26083  NCEXEMPT
26084  NDEXEMPT
26085  OHEXEMPT
26086  OKEXEMPT
26087  OREXEMPT
26088  PAEXEMPT
26089  RIEXEMPT
26090  SCEXEMPT
26091  SDEXEMPT
26092  TNEXEMPT
26093  TXEXEMPT
26094  UTEXEMPT
26095  VTEXEMPT
26096  VAEXEMPT
26097  WAEXEMPT
26098  WVEXEMPT
26099  WIEXEMPT
26100  WYEXEMPT
26101  SEXEMPT
26102  FD_EXEMPTPAY
26103  ST_EXEMPTPAY
26104  FEDTAXRATE
26105  ALTAXRATE
26106  AKTAXRATE
26107  AZTAXRATE
26108  ARTAXRATE
26109  CATAXRATE
26110  COTAXRATE
26111  CTTAXRATE
26112  DETAXRATE
26113  DCTAXRATE
26114  FLTAXRATE
26115  GATAXRATE
26116  HITAXRATE
26117  IDTAXRATE
26118  ILTAXRATE
26119  INTAXRATE
26120  IATAXRATE
26121  KSTAXRATE
26122  KYTAXRATE
26123  LATAXRATE
26124  METAXRATE
26125  MDTAXRATE
26126  MATAXRATE
26127  MITAXRATE
26128  MNTAXRATE
26129  MSTAXRATE
26130  MOTAXRATE
26131  MTTAXRATE
26132  NETAXRATE
26133  NVTAXRATE
26134  NHTAXRATE
26135  PRESTATE2
26136  NJTAXRATE
26137  NMTAXRATE
26138  NYTAXRATE
26139  NCTAXRATE
26140  NDTAXRATE
26141  OHTAXRATE
26142  OKTAXRATE
26143  ORTAXRATE
26144  PATAXRATE
26145  RITAXRATE
26146  VTTAXRATE
26147  SCTAXRATE
26148  SDTAXRATE
26149  TNTAXRATE
26150  TXTAXRATE
26151  UTTAXRATE
26152  VATAXRATE
26153  WATAXRATE
26154  WVTAXRATE
26155  WITAXRATE
26156  WYTAXRATE
26157  PRESTATE
26158  STAXRATE
26159  );
26160     SET RAY.raychoice9_nov26;
26161     *IF NEWPREM EQ .;
26162
26163     IF Dependent_Number EQ . THEN FEDEXMPS=1; ELSE FEDEXMPS=Dependent_Number+1;
26164     IF Dependent_Number EQ . OR Dependent_Number <= 1 THEN KIDDIES =0; ELSE KIDDIES
26164! =Dependent_Number-1;
26165
26166  IF FAMILY=0 THEN DO;
26167      IF ANCHOR=1         THEN    ALEXEMPT=1500        ;
26168      IF ANCHOR=1         THEN    AKEXEMPT=0;
26169      IF ANCHOR=1         THEN    AZEXEMPT=2100;
26170      IF ANCHOR=1         THEN    AREXEMPT=0;
26171      IF ANCHOR=1         THEN    CAEXEMPT=0;
26172      IF ANCHOR=1         THEN    COEXEMPT=FEDEXMPS*3000;
26173      IF ANCHOR=1         THEN    CTEXEMPT=12500;
26174      IF ANCHOR=1         THEN    DEEXEMPT=0;
26175      IF ANCHOR=1         THEN    DCEXEMPT=1370;
26176      IF ANCHOR=1         THEN    FLEXEMPT=0;
26177      IF ANCHOR=1         THEN    GAEXEMPT=2700;
26178      IF ANCHOR=1         THEN    HIEXEMPT=FEDEXMPS*1040;
26179      IF ANCHOR=1         THEN    IDEXEMPT=FEDEXMPS*3000;
26180      IF ANCHOR=1         THEN    ILEXEMPT=FEDEXMPS*2000;
26181      IF ANCHOR=1         THEN    INEXEMPT=1000;
26182      IF ANCHOR=1         THEN    IAEXEMPT=0;
26183      IF ANCHOR=1         THEN    KSEXEMPT=FEDEXMPS*2250;
26184      IF ANCHOR=1         THEN    KYEXEMPT=0;
26185      IF ANCHOR=1         THEN    LAEXEMPT=4500;
26186      IF ANCHOR=1         THEN    MEEXEMPT=FEDEXMPS*2850;
26187      IF ANCHOR=1         THEN    MDEXEMPT=FEDEXMPS*2400;
26188      IF ANCHOR=1         THEN    MAEXEMPT=3300;
26189      IF ANCHOR=1         THEN    MIEXEMPT=FEDEXMPS*2900;
26190      IF ANCHOR=1         THEN    MNEXEMPT=FEDEXMPS*3000;
26191      IF ANCHOR=1         THEN    MSEXEMPT=6000;
26192      IF ANCHOR=1         THEN    MOEXEMPT=2100;
26193      IF ANCHOR=1         THEN    MTEXEMPT=1704;
26194      IF ANCHOR=1         THEN    NEEXEMPT=0;
26195      IF ANCHOR=1         THEN    NVEXEMPT=0;
26196      IF ANCHOR=1         THEN    NHEXEMPT=2400;
26197      IF ANCHOR=1         THEN    NJEXEMPT=1000;
26198      IF ANCHOR=1         THEN    NMEXEMPT=FEDEXMPS*3000;
26199      IF ANCHOR=1         THEN    NYEXEMPT=FEDEXMPS*2500;
26200      IF ANCHOR=1         THEN    NCEXEMPT=FEDEXMPS*2500;
26201      IF ANCHOR=1         THEN    NDEXEMPT=FEDEXMPS*3000;
26202      IF ANCHOR=1         THEN    OHEXEMPT=1200;
26203      IF ANCHOR=1         THEN    OKEXEMPT=FEDEXMPS*1000;
26204      IF ANCHOR=1         THEN    OREXEMPT=0;
26205      IF ANCHOR=1         THEN    PAEXEMPT=0;
26206      IF ANCHOR=1         THEN    RIEXEMPT=FEDEXMPS*3000;
26207      IF ANCHOR=1         THEN    SCEXEMPT=FEDEXMPS*3000;
26208      IF ANCHOR=1         THEN    SDEXEMPT=0;
26209      IF ANCHOR=1         THEN    TNEXEMPT=1250;
26210      IF ANCHOR=1         THEN    TXEXEMPT=0;
26211      IF ANCHOR=1         THEN    UTEXEMPT=FEDEXMPS*2250;
26212      IF ANCHOR=1         THEN    VTEXEMPT=FEDEXMPS*3000;
26213      IF ANCHOR=1         THEN    VAEXEMPT=800;
26214      IF ANCHOR=1         THEN    WAEXEMPT=0;
26215      IF ANCHOR=1         THEN    WVEXEMPT=FEDEXMPS*2000;
26216      IF ANCHOR=1         THEN    WIEXEMPT=FEDEXMPS*700;
26217      IF ANCHOR=1         THEN    WYEXEMPT=0;
26218  END;
26219
26220  IF FAMILY=1 THEN DO;
26221      IF ANCHOR=1         THEN    ALEXEMPT=3000+(KIDDIES*300);
26222      IF ANCHOR=1         THEN    AKEXEMPT=0;
26223      IF ANCHOR=1         THEN    AZEXEMPT=4200+(KIDDIES*2300);
26224      IF ANCHOR=1         THEN    AREXEMPT=0;
26225      IF ANCHOR=1         THEN    CAEXEMPT=0;
26226      IF ANCHOR=1         THEN    COEXEMPT=FEDEXMPS*3000;
26227      IF ANCHOR=1         THEN    CTEXEMPT=24000;
26228      IF ANCHOR=1         THEN    DEEXEMPT=0;
26229      IF ANCHOR=1         THEN    DCEXEMPT=2740+(KIDDIES*1370);
26230      IF ANCHOR=1         THEN    FLEXEMPT=0;
26231      IF ANCHOR=1         THEN    GAEXEMPT=5400+(KIDDIES*2700);
26232      IF ANCHOR=1         THEN    HIEXEMPT=FEDEXMPS*1040;
26233      IF ANCHOR=1         THEN    IDEXEMPT=FEDEXMPS*3000;
26234      IF ANCHOR=1         THEN    ILEXEMPT=FEDEXMPS*2000;
26235      IF ANCHOR=1         THEN    INEXEMPT=2000+(KIDDIES*1000);
26236      IF ANCHOR=1         THEN    IAEXEMPT=0;
26237      IF ANCHOR=1         THEN    KSEXEMPT=FEDEXMPS*2250;
26238      IF ANCHOR=1         THEN    KYEXEMPT=0;
26239      IF ANCHOR=1         THEN    LAEXEMPT=9000+(KIDDIES*1000);
26240      IF ANCHOR=1         THEN    MEEXEMPT=FEDEXMPS*2850;
26241      IF ANCHOR=1         THEN    MDEXEMPT=FEDEXMPS*2400;
26242      IF ANCHOR=1         THEN    MAEXEMPT=6600+(KIDDIES*1000);
26243      IF ANCHOR=1         THEN    MIEXEMPT=FEDEXMPS*2900;
26244      IF ANCHOR=1         THEN    MNEXEMPT=FEDEXMPS*3000;
26245      IF ANCHOR=1         THEN    MSEXEMPT=12000+(KIDDIES*1500);
26246      IF ANCHOR=1         THEN    MOEXEMPT=4200+(KIDDIES*1200);
26247      IF ANCHOR=1         THEN    MTEXEMPT=3480+(KIDDIES*1740);
26248      IF ANCHOR=1         THEN    NEEXEMPT=0;
26249      IF ANCHOR=1         THEN    NVEXEMPT=0;
26250      IF ANCHOR=1         THEN    NHEXEMPT=4800;
26251      IF ANCHOR=1         THEN    NJEXEMPT=2000+(KIDDIES*1000);
26252      IF ANCHOR=1         THEN    NMEXEMPT=FEDEXMPS*3000;
26253      IF ANCHOR=1         THEN    NYEXEMPT=(KIDDIES*1000);
26254      IF ANCHOR=1         THEN    NCEXEMPT=FEDEXMPS*2500;
26255      IF ANCHOR=1         THEN    NDEXEMPT=FEDEXMPS*3000;
26256      IF ANCHOR=1         THEN    OHEXEMPT=2400+(KIDDIES*1200);
26257      IF ANCHOR=1         THEN    OKEXEMPT=FEDEXMPS*1000;
26258      IF ANCHOR=1         THEN    OREXEMPT=0;
26259      IF ANCHOR=1         THEN    PAEXEMPT=0;
26260      IF ANCHOR=1         THEN    RIEXEMPT=FEDEXMPS*3000;
26261      IF ANCHOR=1         THEN    SCEXEMPT=FEDEXMPS*3000;
26262      IF ANCHOR=1         THEN    SDEXEMPT=0;
26263      IF ANCHOR=1         THEN    TNEXEMPT=2500;
26264      IF ANCHOR=1         THEN    TXEXEMPT=0;
26265      IF ANCHOR=1         THEN    UTEXEMPT=FEDEXMPS*2250;
26266      IF ANCHOR=1         THEN    VTEXEMPT=FEDEXMPS*3000;
26267      IF ANCHOR=1         THEN    VAEXEMPT=1600+(KIDDIES*800);
26268      IF ANCHOR=1         THEN    WAEXEMPT=0;
26269      IF ANCHOR=1         THEN    WVEXEMPT=FEDEXMPS*2000;
26270      IF ANCHOR=1         THEN    WIEXEMPT=FEDEXMPS*700;
26271      IF ANCHOR=1         THEN    WYEXEMPT=0;
26272  END;
26273
26274     IF State EQ 'AL' THEN    SEXEMPT=ALEXEMPT;
26275     IF State EQ 'AK' THEN    SEXEMPT=AKEXEMPT;
26276
26277     IF State EQ 'AZ' THEN    SEXEMPT=AZEXEMPT;
26278     IF State EQ 'AR' THEN    SEXEMPT=AREXEMPT;
26279     IF State EQ 'CA' THEN    SEXEMPT=CAEXEMPT;
26280     IF State EQ 'CO' THEN    SEXEMPT=COEXEMPT;
26281     IF State EQ 'CT' THEN    SEXEMPT=CTEXEMPT;
26282     IF State EQ 'DE' THEN    SEXEMPT=DEEXEMPT;
26283     IF State EQ 'DC' THEN    SEXEMPT=DCEXEMPT;
26284
26285     IF State EQ 'FL' THEN    SEXEMPT=FLEXEMPT;
26286     IF State EQ 'GA' THEN    SEXEMPT=GAEXEMPT;
26287
26288     IF State EQ 'HI' THEN    SEXEMPT=HIEXEMPT;
26289     IF State EQ 'ID' THEN    SEXEMPT=IDEXEMPT;
26290     IF State EQ 'IL' THEN    SEXEMPT=ILEXEMPT;
26291     IF State EQ 'IN' THEN    SEXEMPT=INEXEMPT;
26292     IF State EQ 'IA' THEN    SEXEMPT=IAEXEMPT;
26293     IF State EQ 'KS' THEN    SEXEMPT=KSEXEMPT;
26294     IF State EQ 'KY' THEN    SEXEMPT=KYEXEMPT;
26295     IF State EQ 'LA' THEN    SEXEMPT=LAEXEMPT;
26296     IF State EQ 'ME' THEN    SEXEMPT=MEEXEMPT;
26297
26298     IF State EQ 'MD' THEN    SEXEMPT=MDEXEMPT;
26299     IF State EQ 'MA' THEN    SEXEMPT=MAEXEMPT;
26300     IF State EQ 'MI' THEN    SEXEMPT=MIEXEMPT;
26301     IF State EQ 'MN' THEN    SEXEMPT=MNEXEMPT;
26302     IF State EQ 'MS' THEN    SEXEMPT=MSEXEMPT;
26303     IF State EQ 'MO' THEN    SEXEMPT=MOEXEMPT;
26304     IF State EQ 'MT' THEN    SEXEMPT=MTEXEMPT;
26305     IF State EQ 'NE' THEN    SEXEMPT=NEEXEMPT;
26306     IF State EQ 'NV' THEN    SEXEMPT=NVEXEMPT;
26307     IF State EQ 'NH' THEN    SEXEMPT=NHEXEMPT;
26308     IF State EQ 'NJ' THEN    SEXEMPT=NJEXEMPT;
26309     IF State EQ 'NM' THEN    SEXEMPT=NMEXEMPT;
26310     IF State EQ 'NY' THEN    SEXEMPT=NYEXEMPT;
26311     IF State EQ 'NC' THEN    SEXEMPT=NCEXEMPT;
26312     IF State EQ 'ND' THEN    SEXEMPT=NDEXEMPT;
26313
26314     IF State EQ 'OH' THEN    SEXEMPT=OHEXEMPT;
26315     IF State EQ 'OK' THEN    SEXEMPT=OKEXEMPT;
26316     IF State EQ 'OR' THEN    SEXEMPT=OREXEMPT;
26317
26318     IF State EQ 'PA' THEN    SEXEMPT=PAEXEMPT;
26319
26320     IF State EQ 'RI' THEN    SEXEMPT=RIEXEMPT;
26321     IF State EQ 'SC' THEN    SEXEMPT=SCEXEMPT;
26322     IF State EQ 'SD' THEN    SEXEMPT=SDEXEMPT;
26323     IF State EQ 'TN' THEN    SEXEMPT=TNEXEMPT;
26324     IF State EQ 'TX' THEN    SEXEMPT=TXEXEMPT;
26325     IF State EQ 'UT' THEN    SEXEMPT=UTEXEMPT;
26326     IF State EQ 'VT' THEN    SEXEMPT=VTEXEMPT;
26327
26328     IF State EQ 'VA' THEN    SEXEMPT=VAEXEMPT;
26329     IF State EQ 'WA' THEN    SEXEMPT=WAEXEMPT;
26330     IF State EQ 'WV' THEN    SEXEMPT=WVEXEMPT;
26331     IF State EQ 'WI' THEN    SEXEMPT=WIEXEMPT;
26332     IF State EQ 'WY' THEN    SEXEMPT=WYEXEMPT;
26333
26334     FD_EXEMPTPAY=paycheck2002-(FEDEXMPS*3000);
26335     ST_EXEMPTPAY=paycheck2002-(sexempt);
26336
26337     IF FD_EXEMPTPAY<0 THEN FD_EXEMPTPAY=0;
26338     IF ST_EXEMPTPAY<0 THEN ST_EXEMPTPAY=0;
26339
26340     IF FAMILY=0 THEN DO;
26341
26342        IF      0<=FD_EXEMPTPAY<   6001   THEN FEDTAXRATE=.1 ;
26343        IF   6001<=FD_EXEMPTPAY<  27951   THEN FEDTAXRATE=.15;
26344        IF  27951<=FD_EXEMPTPAY<  67701   THEN FEDTAXRATE=.27;
26345        IF  67701<=FD_EXEMPTPAY< 141251   THEN FEDTAXRATE=.30;
26346        IF 141251<=FD_EXEMPTPAY< 307051   THEN FEDTAXRATE=.35;
26347        IF 307051<=FD_EXEMPTPAY           THEN FEDTAXRATE=.386;
26348
26349      IF 0<=ST_EXEMPTPAY<=500     THEN    ALTAXRATE=.0200;
26350      IF 500<ST_EXEMPTPAY<=3000   THEN    ALTAXRATE=.0400;
26351      IF 3000<ST_EXEMPTPAY        THEN    ALTAXRATE=.0500;
26352
26353      IF 0<=ST_EXEMPTPAY      THEN    AKTAXRATE=.0000;
26354
26355      IF 0<=ST_EXEMPTPAY<=10000   THEN    AZTAXRATE=.0287;
26356      IF 10000<ST_EXEMPTPAY<=35000    THEN    AZTAXRATE=.0320;
26357      IF 35000<ST_EXEMPTPAY<=50000    THEN    AZTAXRATE=.0374;
26358      IF 50000<ST_EXEMPTPAY<=150000   THEN    AZTAXRATE=.0472;
26359      IF 150000<ST_EXEMPTPAY      THEN    AZTAXRATE=.0504;
26360
26361      IF 0<=ST_EXEMPTPAY<=3199    THEN    ARTAXRATE=.0100;
26362      IF 3199<ST_EXEMPTPAY<=6498  THEN    ARTAXRATE=.0250;
26363      IF 6498<ST_EXEMPTPAY<=9698  THEN    ARTAXRATE=.0350;
26364      IF 9698<ST_EXEMPTPAY<=16098 THEN    ARTAXRATE=.0450;
26365      IF 16098<ST_EXEMPTPAY<=26700    THEN    ARTAXRATE=.0600;
26366      IF 26700<ST_EXEMPTPAY       THEN    ARTAXRATE=.0700;
26367
26368      IF 0<=ST_EXEMPTPAY<=5834    THEN    CATAXRATE=.0100;
26369      IF 5834<ST_EXEMPTPAY<=13830 THEN    CATAXRATE=.0200;
26370      IF 13830<ST_EXEMPTPAY<=21826    THEN    CATAXRATE=.0400;
26371      IF 21826<ST_EXEMPTPAY<=30298    THEN    CATAXRATE=.0600;
26372      IF 30298<ST_EXEMPTPAY<=38291    THEN    CATAXRATE=.0800;
26373      IF 38291<ST_EXEMPTPAY       THEN    CATAXRATE=.0930;
26374
26375      IF 0<=ST_EXEMPTPAY      THEN    COTAXRATE=.0463;
26376      *(3.47% "alternative min. tax?");
26377
26378      IF 0<=ST_EXEMPTPAY<=10000   THEN    CTTAXRATE=.0300;
26379      IF 10000<ST_EXEMPTPAY       THEN    CTTAXRATE=.0450;
26380
26381      IF 0<=ST_EXEMPTPAY<=2000    THEN    DETAXRATE=.0000;
26382      IF 2000<ST_EXEMPTPAY<=5000  THEN    DETAXRATE=.0220;
26383      IF 5000<ST_EXEMPTPAY<=10000 THEN    DETAXRATE=.0390;
26384      IF 10000<ST_EXEMPTPAY<=20000    THEN    DETAXRATE=.0480;
26385      IF 20000<ST_EXEMPTPAY<=25000    THEN    DETAXRATE=.0520;
26386      IF 25000<ST_EXEMPTPAY<=60000    THEN    DETAXRATE=.0555;
26387      IF 60000<ST_EXEMPTPAY       THEN    DETAXRATE=.0595;
26388
26389      IF 0<=ST_EXEMPTPAY<=10000   THEN    DCTAXRATE=.0500;
26390      IF 10000<ST_EXEMPTPAY<=30000    THEN    DCTAXRATE=.0750;
26391      IF 30000<ST_EXEMPTPAY       THEN    DCTAXRATE=.0930;
26392
26393      IF 0<=ST_EXEMPTPAY      THEN    FLTAXRATE=.0000;
26394
26395      IF 0<=ST_EXEMPTPAY<=750     THEN    GATAXRATE=.0100;
26396      IF 750<ST_EXEMPTPAY<=2250   THEN    GATAXRATE=.0200;
26397      IF 2250<ST_EXEMPTPAY<=3750  THEN    GATAXRATE=.0300;
26398      IF 3750<ST_EXEMPTPAY<=5250  THEN    GATAXRATE=.0400;
26399      IF 5250<ST_EXEMPTPAY<=7000  THEN    GATAXRATE=.0500;
26400      IF 7000<ST_EXEMPTPAY        THEN    GATAXRATE=.0600;
26401
26402      IF 0<=ST_EXEMPTPAY<=2000    THEN    HITAXRATE=.0150;
26403      IF 2000<ST_EXEMPTPAY<=4000  THEN    HITAXRATE=.0370;
26404      IF 4000<ST_EXEMPTPAY<=8000  THEN    HITAXRATE=.0640;
26405      IF 8000<ST_EXEMPTPAY<=12000 THEN    HITAXRATE=.0690;
26406      IF 12000<ST_EXEMPTPAY<=16000    THEN    HITAXRATE=.0730;
26407      IF 16000<ST_EXEMPTPAY<=20000    THEN    HITAXRATE=.0760;
26408      IF 20000<ST_EXEMPTPAY<=30000    THEN    HITAXRATE=.0790;
26409      IF 30000<ST_EXEMPTPAY<=40000    THEN    HITAXRATE=.0820;
26410      IF 40000<ST_EXEMPTPAY       THEN    HITAXRATE=.0850;
26411
26412      IF 0<=ST_EXEMPTPAY<=1000    THEN    IDTAXRATE=.0160;
26413      IF 1000<ST_EXEMPTPAY<=2000  THEN    IDTAXRATE=.0360;
26414      IF 2000<ST_EXEMPTPAY<=3000  THEN    IDTAXRATE=.0410;
26415      IF 3000<ST_EXEMPTPAY<=4000  THEN    IDTAXRATE=.0510;
26416      IF 4000<ST_EXEMPTPAY<=5000  THEN    IDTAXRATE=.0610;
26417      IF 5000<ST_EXEMPTPAY<=7500  THEN    IDTAXRATE=.0710;
26418      IF 7500<ST_EXEMPTPAY<=20000 THEN    IDTAXRATE=.0740;
26419      IF 20000<ST_EXEMPTPAY       THEN    IDTAXRATE=.0780;
26420
26421      IF 0<=ST_EXEMPTPAY      THEN    ILTAXRATE=.0300;
26422
26423      IF 0<=ST_EXEMPTPAY      THEN    INTAXRATE=.0340;
26424
26425      IF 0<=ST_EXEMPTPAY<=1211    THEN    IATAXRATE=.0036;
26426      IF 1211<ST_EXEMPTPAY<=2422  THEN    IATAXRATE=.0072;
26427      IF 2422<ST_EXEMPTPAY<=4844  THEN    IATAXRATE=.0243;
26428      IF 4844<ST_EXEMPTPAY<=10899 THEN    IATAXRATE=.0450;
26429      IF 10899<ST_EXEMPTPAY<=18165    THEN    IATAXRATE=.0612;
26430      IF 18165<ST_EXEMPTPAY<=24220    THEN    IATAXRATE=.0648;
26431      IF 24220<ST_EXEMPTPAY<=36330    THEN    IATAXRATE=.0680;
26432      IF 36330<ST_EXEMPTPAY<=54495    THEN    IATAXRATE=.0792;
26433      IF 54495<ST_EXEMPTPAY       THEN    IATAXRATE=.0898;
26434
26435      IF 0<=ST_EXEMPTPAY<=15000   THEN    KSTAXRATE=.0350;
26436      IF 15000<ST_EXEMPTPAY<=30000    THEN    KSTAXRATE=.0625;
26437      IF 30000<ST_EXEMPTPAY       THEN    KSTAXRATE=.0645;
26438
26439       IF 0<=ST_EXEMPTPAY<=3000   THEN    KYTAXRATE=.0200;
26440      IF 3000<ST_EXEMPTPAY<=4000  THEN    KYTAXRATE=.0300;
26441      IF 4000<ST_EXEMPTPAY<=5000  THEN    KYTAXRATE=.0400;
26442      IF 5000<ST_EXEMPTPAY<=8000  THEN    KYTAXRATE=.0500;
26443      IF 8000<ST_EXEMPTPAY        THEN    KYTAXRATE=.0600;
26444
26445      IF 0<=ST_EXEMPTPAY<=10000   THEN    LATAXRATE=.0200;
26446      IF 10000<ST_EXEMPTPAY<=50000    THEN    LATAXRATE=.0400;
26447      IF 50000<ST_EXEMPTPAY       THEN    LATAXRATE=.0600;
26448
26449      IF 0<=ST_EXEMPTPAY<=4200    THEN    METAXRATE=.0200;
26450      IF 4200<ST_EXEMPTPAY<=8350  THEN    METAXRATE=.0450;
26451      IF 8350<ST_EXEMPTPAY<=16700 THEN    METAXRATE=.0700;
26452      IF 16700<ST_EXEMPTPAY       THEN    METAXRATE=.0850;
26453
26454       IF 0<=ST_EXEMPTPAY<=1000   THEN    MDTAXRATE=.0200;
26455      IF 1000<ST_EXEMPTPAY<=2000  THEN    MDTAXRATE=.0300;
26456      IF 2000<ST_EXEMPTPAY<=3000  THEN    MDTAXRATE=.0400;
26457      IF 3000<ST_EXEMPTPAY        THEN    MDTAXRATE=.0475;
26458
26459      IF 0<=ST_EXEMPTPAY      THEN    MATAXRATE=.0530;
26460
26461      IF 0<=ST_EXEMPTPAY      THEN    MITAXRATE=.0410;
26462
26463      IF 0<=ST_EXEMPTPAY<=18710   THEN    MNTAXRATE=.0535;
26464      IF 18710<ST_EXEMPTPAY<=61460    THEN    MNTAXRATE=.0705;
26465      IF 61460<ST_EXEMPTPAY       THEN    MNTAXRATE=.0785;
26466
26467      IF 0<=ST_EXEMPTPAY<=5000    THEN    MSTAXRATE=.0300;
26468      IF 5000<ST_EXEMPTPAY<=10000 THEN    MSTAXRATE=.0400;
26469      IF 10000<ST_EXEMPTPAY       THEN    MSTAXRATE=.0500;
26470
26471      IF 0<=ST_EXEMPTPAY<=1000    THEN    MOTAXRATE=.0150;
26472      IF 1000<ST_EXEMPTPAY<=2000  THEN    MOTAXRATE=.0200;
26473      IF 2000<ST_EXEMPTPAY<=3000  THEN    MOTAXRATE=.0250;
26474      IF 3000<ST_EXEMPTPAY<=4000  THEN    MOTAXRATE=.0300;
26475      IF 4000<ST_EXEMPTPAY<=5000  THEN    MOTAXRATE=.0350;
26476      IF 5000<ST_EXEMPTPAY<=6000  THEN    MOTAXRATE=.0400;
26477      IF 6000<ST_EXEMPTPAY<=7000  THEN    MOTAXRATE=.0450;
26478      IF 7000<ST_EXEMPTPAY<=8000  THEN    MOTAXRATE=.0500;
26479      IF 8000<ST_EXEMPTPAY<=9000  THEN    MOTAXRATE=.0550;
26480      IF 9000<ST_EXEMPTPAY        THEN    MOTAXRATE=.0600;
26481
26482      IF 0<=ST_EXEMPTPAY<=2200    THEN    MTTAXRATE=.0200;
26483      IF 2200<ST_EXEMPTPAY<=4400  THEN    MTTAXRATE=.0300;
26484      IF 4400<ST_EXEMPTPAY<=8700  THEN    MTTAXRATE=.0400;
26485      IF 8700<ST_EXEMPTPAY<=13100 THEN    MTTAXRATE=.0500;
26486      IF 13100<ST_EXEMPTPAY<=16800    THEN    MTTAXRATE=.0600;
26487      IF 16800<ST_EXEMPTPAY<=21200    THEN    MTTAXRATE=.0700;
26488      IF 21200<ST_EXEMPTPAY<=29900    THEN    MTTAXRATE=.0800;
26489      IF 29900<ST_EXEMPTPAY<=42900    THEN    MTTAXRATE=.0900;
26490      IF 42900<ST_EXEMPTPAY<=76200    THEN    MTTAXRATE=.1000;
26491      IF 76200<ST_EXEMPTPAY       THEN    MTTAXRATE=.1100;
26492
26493      IF 0<=ST_EXEMPTPAY<=2400    THEN    NETAXRATE=.0251;
26494      IF 2400<ST_EXEMPTPAY<=17000 THEN    NETAXRATE=.0349;
26495      IF 17000<ST_EXEMPTPAY<=26500    THEN    NETAXRATE=.0501;
26496      IF 26500<ST_EXEMPTPAY       THEN    NETAXRATE=.0668;
26497
26498      IF 0<=ST_EXEMPTPAY      THEN    NVTAXRATE=.0000;
26499
26500      IF 0<=ST_EXEMPTPAY      THEN    NHTAXRATE=.0500;
26501     PRESTATE2=State;
26502
26503      IF 0<=ST_EXEMPTPAY<=20000   THEN    NJTAXRATE=.0140;
26504      IF 20000<ST_EXEMPTPAY<=35000    THEN    NJTAXRATE=.0175;
26505      IF 35000<ST_EXEMPTPAY<=40000    THEN    NJTAXRATE=.0350;
26506      IF 40000<ST_EXEMPTPAY<=75000    THEN    NJTAXRATE=.05525;
26507      IF 75000<ST_EXEMPTPAY       THEN    NJTAXRATE=.0637;
26508
26509      IF 0<=ST_EXEMPTPAY<=5500    THEN    NMTAXRATE=.0170;
26510      IF 5500<ST_EXEMPTPAY<=11000 THEN    NMTAXRATE=.0320;
26511      IF 11000<ST_EXEMPTPAY<=16000    THEN    NMTAXRATE=.0470;
26512      IF 16000<ST_EXEMPTPAY<=26000    THEN    NMTAXRATE=.0600;
26513      IF 26000<ST_EXEMPTPAY<=42000    THEN    NMTAXRATE=.0710;
26514      IF 42000<ST_EXEMPTPAY<=65000    THEN    NMTAXRATE=.0790;
26515      IF 65000<ST_EXEMPTPAY       THEN    NMTAXRATE=.0820;
26516
26517      IF 0<=ST_EXEMPTPAY<=8000    THEN    NYTAXRATE=.0400;
26518      IF 8000<ST_EXEMPTPAY<=11000 THEN    NYTAXRATE=.0450;
26519      IF 11000<ST_EXEMPTPAY<=13000    THEN    NYTAXRATE=.0525;
26520      IF 13000<ST_EXEMPTPAY<=20000    THEN    NYTAXRATE=.0590;
26521      IF 20000<ST_EXEMPTPAY       THEN    NYTAXRATE=.0685;
26522
26523      IF 0<=ST_EXEMPTPAY<=12750   THEN    NCTAXRATE=.0600;
26524      IF 12750<ST_EXEMPTPAY<=60000    THEN    NCTAXRATE=.0700;
26525      IF 60000<ST_EXEMPTPAY<=120000   THEN    NCTAXRATE=.0775;
26526      IF 120000<ST_EXEMPTPAY      THEN    NCTAXRATE=.0825;
26527
26528      IF 0<=ST_EXEMPTPAY<=3000    THEN    NDTAXRATE=.0267;
26529      IF 3000<ST_EXEMPTPAY<=5000  THEN    NDTAXRATE=.0400;
26530      IF 5000<ST_EXEMPTPAY<=8000  THEN    NDTAXRATE=.0533;
26531      IF 8000<ST_EXEMPTPAY<=15000 THEN    NDTAXRATE=.0667;
26532      IF 15000<ST_EXEMPTPAY<=25000    THEN    NDTAXRATE=.0800;
26533      IF 25000<ST_EXEMPTPAY<=35000    THEN    NDTAXRATE=.0933;
26534      IF 35000<ST_EXEMPTPAY<=50000    THEN    NDTAXRATE=.1067;
26535      IF 50000<ST_EXEMPTPAY       THEN    NDTAXRATE=.1200;
26536
26537      IF 0<=ST_EXEMPTPAY<=5000    THEN    OHTAXRATE=.00743;
26538      IF 5000<ST_EXEMPTPAY<=10000 THEN    OHTAXRATE=.01486;
26539      IF 10000<ST_EXEMPTPAY<=15000    THEN    OHTAXRATE=.02972;
26540      IF 15000<ST_EXEMPTPAY<=20000    THEN    OHTAXRATE=.03715;
26541      IF 20000<ST_EXEMPTPAY<=40000    THEN    OHTAXRATE=.04457;
26542      IF 40000<ST_EXEMPTPAY<=100000   THEN    OHTAXRATE=.05943;
26543      IF 100000<ST_EXEMPTPAY<=200000  THEN    OHTAXRATE=.06900;
26544      IF 200000<ST_EXEMPTPAY      THEN    OHTAXRATE=.07500;
26545
26546      IF 0<=ST_EXEMPTPAY<=1000    THEN    OKTAXRATE=.0050;
26547      IF 1000<ST_EXEMPTPAY<=2500  THEN    OKTAXRATE=.0100;
26548      IF 2500<ST_EXEMPTPAY<=3750  THEN    OKTAXRATE=.0200;
26549      IF 3750<ST_EXEMPTPAY<=4900  THEN    OKTAXRATE=.0300;
26550      IF 4900<ST_EXEMPTPAY<=6200  THEN    OKTAXRATE=.0400;
26551      IF 6200<ST_EXEMPTPAY<=7700  THEN    OKTAXRATE=.0500;
26552      IF 7700<ST_EXEMPTPAY<=10000 THEN    OKTAXRATE=.0600;
26553      IF 10000<ST_EXEMPTPAY       THEN    OKTAXRATE=.0675;
26554
26555      IF 0<=ST_EXEMPTPAY<=2450    THEN    ORTAXRATE=.0500;
26556      IF 2450<ST_EXEMPTPAY<=6200  THEN    ORTAXRATE=.0700;
26557      IF 6200<ST_EXEMPTPAY        THEN    ORTAXRATE=.0900;
26558
26559      IF 0<=ST_EXEMPTPAY      THEN    PATAXRATE=.0280;
26560
26561      RITAXRATE=(.25*fedtaxrate);
26562      VTTAXRATE=(.24*fedtaxrate);
26563      *>RI: 25% of Federal income tax;
26564
26565      IF 0<=ST_EXEMPTPAY<=2440    THEN    SCTAXRATE=.0250;
26566      IF 2440<ST_EXEMPTPAY<=4880  THEN    SCTAXRATE=.0300;
26567      IF 4880<ST_EXEMPTPAY<=7320  THEN    SCTAXRATE=.0400;
26568      IF 7320<ST_EXEMPTPAY<=9760  THEN    SCTAXRATE=.0500;
26569      IF 9760<ST_EXEMPTPAY<=12200 THEN    SCTAXRATE=.0600;
26570      IF 12200<ST_EXEMPTPAY       THEN    SCTAXRATE=.0700;
26571
26572      IF 0<=ST_EXEMPTPAY      THEN    SDTAXRATE=.0000;
26573
26574      IF 0<=ST_EXEMPTPAY      THEN    TNTAXRATE=.0000;
26575
26576      IF 0<=ST_EXEMPTPAY      THEN    TXTAXRATE=.0000;
26577
26578      IF 0<=ST_EXEMPTPAY<=863     THEN    UTTAXRATE=.0230;
26579      IF 863<ST_EXEMPTPAY<=1726   THEN    UTTAXRATE=.0330;
26580      IF 1726<ST_EXEMPTPAY<=2589  THEN    UTTAXRATE=.0420;
26581      IF 2589<ST_EXEMPTPAY<=3451  THEN    UTTAXRATE=.0520;
26582      IF 3451<ST_EXEMPTPAY<=4313  THEN    UTTAXRATE=.0600;
26583      IF 4313<ST_EXEMPTPAY        THEN    UTTAXRATE=.0700;
26584
26585      *VT: 24% of Federal income tax;
26586
26587      IF 0<=ST_EXEMPTPAY<=3000    THEN    VATAXRATE=.0200;
26588      IF 3000<ST_EXEMPTPAY<=5000  THEN    VATAXRATE=.0300;
26589      IF 5000<ST_EXEMPTPAY<=17000 THEN    VATAXRATE=.0500;
26590      IF 17000<ST_EXEMPTPAY       THEN    VATAXRATE=.0575;
26591
26592      IF 0<=ST_EXEMPTPAY      THEN    WATAXRATE=.0000;
26593
26594      IF 0<=ST_EXEMPTPAY<=5000    THEN    WVTAXRATE=.0300;
26595      IF 5000<ST_EXEMPTPAY<=12500 THEN    WVTAXRATE=.0400;
26596      IF 12500<ST_EXEMPTPAY<=20000    THEN    WVTAXRATE=.0450;
26597      IF 20000<ST_EXEMPTPAY<=30000    THEN    WVTAXRATE=.0600;
26598      IF 30000<ST_EXEMPTPAY       THEN    WVTAXRATE=.0650;
26599
26600      IF 0<=ST_EXEMPTPAY<=8280    THEN    WITAXRATE=.0460;
26601      IF 8280<ST_EXEMPTPAY<=16560 THEN    WITAXRATE=.0615;
26602      IF 16560<ST_EXEMPTPAY<=124200   THEN    WITAXRATE=.0650;
26603      IF 124200<ST_EXEMPTPAY      THEN    WITAXRATE=.0675;
26604
26605      IF 0<=ST_EXEMPTPAY      THEN    WYTAXRATE=.0000;
26606  end;
26607
26608  IF FAMILY=1 THEN DO;
26609
26610        IF      0<=FD_EXEMPTPAY<= 12000   THEN FEDTAXRATE=.1 ;
26611        IF  12001<=FD_EXEMPTPAY<= 46700   THEN FEDTAXRATE=.15;
26612        IF  46701<=FD_EXEMPTPAY<=112850   THEN FEDTAXRATE=.27;
26613        IF 112851<=FD_EXEMPTPAY<=171950   THEN FEDTAXRATE=.30;
26614        IF 171951<=FD_EXEMPTPAY<=307050   THEN FEDTAXRATE=.35;
26615        IF 307051<=FD_EXEMPTPAY           THEN FEDTAXRATE=.386;
26616
26617
26618      IF 0<=ST_EXEMPTPAY<=1000    THEN    ALTAXRATE=.0200;
26619      IF 1000<ST_EXEMPTPAY<=6000  THEN    ALTAXRATE=.0400;
26620      IF 6000<ST_EXEMPTPAY        THEN    ALTAXRATE=.0500;
26621
26622      IF 0<=ST_EXEMPTPAY      THEN    AKTAXRATE=.0000;
26623
26624      IF 0<=ST_EXEMPTPAY<=20000   THEN    AZTAXRATE=.0287;
26625      IF 20000<ST_EXEMPTPAY<=70000    THEN    AZTAXRATE=.0320;
26626      IF 70000<ST_EXEMPTPAY<=100000   THEN    AZTAXRATE=.0374;
26627      IF 100000<ST_EXEMPTPAY<=300000  THEN    AZTAXRATE=.0472;
26628      IF 300000<ST_EXEMPTPAY      THEN    AZTAXRATE=.0504;
26629
26630      IF 0<=ST_EXEMPTPAY<=3199    THEN    ARTAXRATE=.0100;
26631      IF 3199<ST_EXEMPTPAY<=6498  THEN    ARTAXRATE=.0250;
26632      IF 6498<ST_EXEMPTPAY<=9698  THEN    ARTAXRATE=.0350;
26633      IF 9698<ST_EXEMPTPAY<=16098 THEN    ARTAXRATE=.0450;
26634      IF 16098<ST_EXEMPTPAY<=26700    THEN    ARTAXRATE=.0600;
26635      IF 26700<ST_EXEMPTPAY       THEN    ARTAXRATE=.0700;
26636
26637      IF 0<=ST_EXEMPTPAY<=11668   THEN    CATAXRATE=.0100;
26638      IF 11496<ST_EXEMPTPAY<=27659    THEN    CATAXRATE=.0200;
26639      IF 27659<ST_EXEMPTPAY<=43651    THEN    CATAXRATE=.0400;
26640      IF 43651<ST_EXEMPTPAY<=60596    THEN    CATAXRATE=.0600;
26641      IF 60596<ST_EXEMPTPAY<=76582    THEN    CATAXRATE=.0800;
26642      IF 76582<ST_EXEMPTPAY       THEN    CATAXRATE=.0930;
26643
26644      IF 0<=ST_EXEMPTPAY      THEN    COTAXRATE=.0463;
26645      *(3.47% "alternative min. tax?");
26646
26647      IF 0<=ST_EXEMPTPAY<=20000   THEN    CTTAXRATE=.0300;
26648      IF 20000<ST_EXEMPTPAY       THEN    CTTAXRATE=.0450;
26649
26650      IF 0<=ST_EXEMPTPAY<=2000    THEN    DETAXRATE=.0000;
26651      IF 2000<ST_EXEMPTPAY<=5000  THEN    DETAXRATE=.0220;
26652      IF 5000<ST_EXEMPTPAY<=10000 THEN    DETAXRATE=.0390;
26653      IF 10000<ST_EXEMPTPAY<=20000    THEN    DETAXRATE=.0480;
26654      IF 20000<ST_EXEMPTPAY<=25000    THEN    DETAXRATE=.0520;
26655      IF 25000<ST_EXEMPTPAY<=60000    THEN    DETAXRATE=.0555;
26656      IF 60000<ST_EXEMPTPAY       THEN    DETAXRATE=.0595;
26657
26658      IF 0<=ST_EXEMPTPAY<=10000   THEN    DCTAXRATE=.0500;
26659      IF 10000<ST_EXEMPTPAY<=30000    THEN    DCTAXRATE=.0750;
26660      IF 30000<ST_EXEMPTPAY       THEN    DCTAXRATE=.0930;
26661
26662      IF 0<=ST_EXEMPTPAY      THEN    FLTAXRATE=.0000;
26663
26664      IF 0<=ST_EXEMPTPAY<=1000    THEN    GATAXRATE=.0100;
26665      IF 1000<ST_EXEMPTPAY<=3000  THEN    GATAXRATE=.0200;
26666      IF 3000<ST_EXEMPTPAY<=5000  THEN    GATAXRATE=.0300;
26667      IF 5000<ST_EXEMPTPAY<=7000  THEN    GATAXRATE=.0400;
26668      IF 7000<ST_EXEMPTPAY<=10000 THEN    GATAXRATE=.0500;
26669      IF 10000<ST_EXEMPTPAY       THEN    GATAXRATE=.0600;
26670
26671      IF 0<=ST_EXEMPTPAY<=4000    THEN    HITAXRATE=.0150;
26672      IF 4000<ST_EXEMPTPAY<=8000  THEN    HITAXRATE=.0370;
26673      IF 8000<ST_EXEMPTPAY<=16000 THEN    HITAXRATE=.0640;
26674      IF 16000<ST_EXEMPTPAY<=24000    THEN    HITAXRATE=.0690;
26675      IF 24000<ST_EXEMPTPAY<=32000    THEN    HITAXRATE=.0730;
26676      IF 32000<ST_EXEMPTPAY<=40000    THEN    HITAXRATE=.0760;
26677      IF 40000<ST_EXEMPTPAY<=60000    THEN    HITAXRATE=.0790;
26678      IF 60000<ST_EXEMPTPAY<=80000    THEN    HITAXRATE=.0820;
26679      IF 80000<ST_EXEMPTPAY       THEN    HITAXRATE=.0850;
26680
26681      IF 0<=ST_EXEMPTPAY<=500 THEN    IDTAXRATE=.0160;
26682      IF 500<ST_EXEMPTPAY<=1000   THEN    IDTAXRATE=.0360;
26683      IF 1000<ST_EXEMPTPAY<=1500  THEN    IDTAXRATE=.0410;
26684      IF 1500<ST_EXEMPTPAY<=2000  THEN    IDTAXRATE=.0510;
26685      IF 2000<ST_EXEMPTPAY<=2500  THEN    IDTAXRATE=.0610;
26686      IF 2500<ST_EXEMPTPAY<=3750  THEN    IDTAXRATE=.0710;
26687      IF 3750<ST_EXEMPTPAY<=10000 THEN    IDTAXRATE=.0740;
26688      IF 10000<ST_EXEMPTPAY       THEN    IDTAXRATE=.0780;
26689
26690      IF 0<=ST_EXEMPTPAY      THEN    ILTAXRATE=.0300;
26691
26692      IF 0<=ST_EXEMPTPAY      THEN    INTAXRATE=.0340;
26693
26694      IF 0<=ST_EXEMPTPAY<=1211    THEN    IATAXRATE=.0036;
26695      IF 1211<ST_EXEMPTPAY<=2422  THEN    IATAXRATE=.0072;
26696      IF 2422<ST_EXEMPTPAY<=4844  THEN    IATAXRATE=.0243;
26697      IF 4844<ST_EXEMPTPAY<=10899 THEN    IATAXRATE=.0450;
26698      IF 10899<ST_EXEMPTPAY<=18165    THEN    IATAXRATE=.0612;
26699      IF 18165<ST_EXEMPTPAY<=24220    THEN    IATAXRATE=.0648;
26700      IF 24220<ST_EXEMPTPAY<=36330    THEN    IATAXRATE=.0680;
26701      IF 36330<ST_EXEMPTPAY<=54495    THEN    IATAXRATE=.0792;
26702      IF 54495<ST_EXEMPTPAY       THEN    IATAXRATE=.0898;
26703
26704      IF 0<=ST_EXEMPTPAY<=30000   THEN    KSTAXRATE=.0350;
26705      IF 30000<ST_EXEMPTPAY<=60000    THEN    KSTAXRATE=.0625;
26706      IF 60000<ST_EXEMPTPAY       THEN    KSTAXRATE=.0645;
26707
26708      IF 0<=ST_EXEMPTPAY<=3000    THEN    KYTAXRATE=.0200;
26709      IF 3000<ST_EXEMPTPAY<=4000  THEN    KYTAXRATE=.0300;
26710      IF 4000<ST_EXEMPTPAY<=5000  THEN    KYTAXRATE=.0400;
26711      IF 5000<ST_EXEMPTPAY<=8000  THEN    KYTAXRATE=.0500;
26712      IF 8000<ST_EXEMPTPAY        THEN    KYTAXRATE=.0600;
26713
26714      IF 0<=ST_EXEMPTPAY<=5000    THEN    LATAXRATE=.0200;
26715      IF 5000<ST_EXEMPTPAY<=10000 THEN    LATAXRATE=.0400;
26716      IF 10000<ST_EXEMPTPAY       THEN    LATAXRATE=.0600;
26717
26718      IF 0<=ST_EXEMPTPAY<=8400    THEN    METAXRATE=.0200;
26719      IF 8400<ST_EXEMPTPAY<=16700 THEN    METAXRATE=.0450;
26720      IF 16700<ST_EXEMPTPAY<=33400    THEN    METAXRATE=.0700;
26721      IF 33400<ST_EXEMPTPAY       THEN    METAXRATE=.0850;
26722
26723      IF 0<=ST_EXEMPTPAY<=1000    THEN    MDTAXRATE=.0200;
26724      IF 1000<ST_EXEMPTPAY<=2000  THEN    MDTAXRATE=.0300;
26725      IF 2000<ST_EXEMPTPAY<=3000  THEN    MDTAXRATE=.0400;
26726      IF 3000<ST_EXEMPTPAY        THEN    MDTAXRATE=.0475;
26727
26728      IF 0<=ST_EXEMPTPAY      THEN    MATAXRATE=.0530;
26729
26730      IF 0<=ST_EXEMPTPAY      THEN    MITAXRATE=.0410;
26731
26732      IF 0<=ST_EXEMPTPAY<=27350   THEN    MNTAXRATE=.0535;
26733      IF 27350<ST_EXEMPTPAY<=108660   THEN    MNTAXRATE=.0705;
26734      IF 108660<ST_EXEMPTPAY      THEN    MNTAXRATE=.0785;
26735
26736      IF 0<=ST_EXEMPTPAY<=5000    THEN    MSTAXRATE=.0300;
26737      IF 5000<ST_EXEMPTPAY<=10000 THEN    MSTAXRATE=.0400;
26738      IF 10000<ST_EXEMPTPAY       THEN    MSTAXRATE=.0500;
26739
26740      IF 0<=ST_EXEMPTPAY<=1000    THEN    MOTAXRATE=.0150;
26741      IF 1000<ST_EXEMPTPAY<=2000  THEN    MOTAXRATE=.0200;
26742      IF 2000<ST_EXEMPTPAY<=3000  THEN    MOTAXRATE=.0250;
26743      IF 3000<ST_EXEMPTPAY<=4000  THEN    MOTAXRATE=.0300;
26744      IF 4000<ST_EXEMPTPAY<=5000  THEN    MOTAXRATE=.0350;
26745      IF 5000<ST_EXEMPTPAY<=6000  THEN    MOTAXRATE=.0400;
26746      IF 6000<ST_EXEMPTPAY<=7000  THEN    MOTAXRATE=.0450;
26747      IF 7000<ST_EXEMPTPAY<=8000  THEN    MOTAXRATE=.0500;
26748      IF 8000<ST_EXEMPTPAY<=9000  THEN    MOTAXRATE=.0550;
26749      IF 9000<ST_EXEMPTPAY        THEN    MOTAXRATE=.0600;
26750
26751      IF 0<=ST_EXEMPTPAY<=2200    THEN    MTTAXRATE=.0200;
26752      IF 2200<ST_EXEMPTPAY<=4400  THEN    MTTAXRATE=.0300;
26753      IF 4400<ST_EXEMPTPAY<=8700  THEN    MTTAXRATE=.0400;
26754      IF 8700<ST_EXEMPTPAY<=13100 THEN    MTTAXRATE=.0500;
26755      IF 13100<ST_EXEMPTPAY<=16800    THEN    MTTAXRATE=.0600;
26756      IF 16800<ST_EXEMPTPAY<=21200    THEN    MTTAXRATE=.0700;
26757      IF 21200<ST_EXEMPTPAY<=29900    THEN    MTTAXRATE=.0800;
26758      IF 29900<ST_EXEMPTPAY<=42900    THEN    MTTAXRATE=.0900;
26759      IF 42900<ST_EXEMPTPAY<=76200    THEN    MTTAXRATE=.1000;
26760      IF 76200<ST_EXEMPTPAY       THEN    MTTAXRATE=.1100;
26761
26762      IF 0<=ST_EXEMPTPAY<=4000    THEN    NETAXRATE=.0251;
26763      IF 4000<ST_EXEMPTPAY<=30000 THEN    NETAXRATE=.0349;
26764      IF 30000<ST_EXEMPTPAY<=46750    THEN    NETAXRATE=.0501;
26765      IF 46750<ST_EXEMPTPAY       THEN    NETAXRATE=.0668;
26766
26767      IF 0<=ST_EXEMPTPAY      THEN    NVTAXRATE=.0000;
26768
26769      IF 0<=ST_EXEMPTPAY      THEN    NHTAXRATE=.0500;
26770
26771     PRESTATE=State;
26772      IF 0<=ST_EXEMPTPAY<=20000   THEN    NJTAXRATE=.0140;
26773      IF 20000<ST_EXEMPTPAY<=50000    THEN    NJTAXRATE=.0175;
26774      IF 50000<ST_EXEMPTPAY<=70000    THEN    NJTAXRATE=.0245;
26775      IF 70000<ST_EXEMPTPAY<=80000    THEN    NJTAXRATE=.0350;
26776      IF 80000<ST_EXEMPTPAY<=150000   THEN    NJTAXRATE=.05525;
26777      IF 150000<ST_EXEMPTPAY      THEN    NJTAXRATE=.0637;
26778
26779      IF 0<=ST_EXEMPTPAY<=8000    THEN    NMTAXRATE=.0170;
26780      IF 8000<ST_EXEMPTPAY<=16000 THEN    NMTAXRATE=.0320;
26781      IF 16000<ST_EXEMPTPAY<=24000    THEN    NMTAXRATE=.0470;
26782      IF 24000<ST_EXEMPTPAY<=40000    THEN    NMTAXRATE=.0600;
26783      IF 40000<ST_EXEMPTPAY<=64000    THEN    NMTAXRATE=.0710;
26784      IF 64000<ST_EXEMPTPAY<=100000   THEN    NMTAXRATE=.0790;
26785      IF 100000<ST_EXEMPTPAY      THEN    NMTAXRATE=.0820;
26786
26787      IF 0<=ST_EXEMPTPAY<=16000   THEN    NYTAXRATE=.0400;
26788      IF 16000<ST_EXEMPTPAY<=22000    THEN    NYTAXRATE=.0450;
26789      IF 22000<ST_EXEMPTPAY<=26000    THEN    NYTAXRATE=.0525;
26790      IF 26000<ST_EXEMPTPAY<=40000    THEN    NYTAXRATE=.0590;
26791      IF 40000<ST_EXEMPTPAY       THEN    NYTAXRATE=.0685;
26792
26793      IF 0<=ST_EXEMPTPAY<=21250   THEN    NCTAXRATE=.0600;
26794      IF 21250<ST_EXEMPTPAY<=100000   THEN    NCTAXRATE=.0700;
26795      IF 100000<ST_EXEMPTPAY<=200000  THEN    NCTAXRATE=.0775;
26796      IF 200000<ST_EXEMPTPAY      THEN    NCTAXRATE=.0825;
26797
26798      IF 0<=ST_EXEMPTPAY<=3000    THEN    NDTAXRATE=.0267;
26799      IF 3000<ST_EXEMPTPAY<=5000  THEN    NDTAXRATE=.0400;
26800      IF 5000<ST_EXEMPTPAY<=8000  THEN    NDTAXRATE=.0533;
26801      IF 8000<ST_EXEMPTPAY<=15000 THEN    NDTAXRATE=.0667;
26802      IF 15000<ST_EXEMPTPAY<=25000    THEN    NDTAXRATE=.0800;
26803      IF 25000<ST_EXEMPTPAY<=35000    THEN    NDTAXRATE=.0933;
26804      IF 35000<ST_EXEMPTPAY<=50000    THEN    NDTAXRATE=.1067;
26805      IF 50000<ST_EXEMPTPAY       THEN    NDTAXRATE=.1200;
26806
26807      IF 0<=ST_EXEMPTPAY<=5000    THEN    OHTAXRATE=.00743;
26808      IF 5000<ST_EXEMPTPAY<=10000 THEN    OHTAXRATE=.01486;
26809      IF 10000<ST_EXEMPTPAY<=15000    THEN    OHTAXRATE=.02972;
26810      IF 15000<ST_EXEMPTPAY<=20000    THEN    OHTAXRATE=.03715;
26811      IF 20000<ST_EXEMPTPAY<=40000    THEN    OHTAXRATE=.04457;
26812      IF 40000<ST_EXEMPTPAY<=100000   THEN    OHTAXRATE=.05943;
26813      IF 100000<ST_EXEMPTPAY<=200000  THEN    OHTAXRATE=.06900;
26814      IF 200000<ST_EXEMPTPAY      THEN    OHTAXRATE=.07500;
26815
26816      IF 0<=ST_EXEMPTPAY<=2000    THEN    OKTAXRATE=.0050;
26817      IF 2000<ST_EXEMPTPAY<=5000  THEN    OKTAXRATE=.0100;
26818      IF 5000<ST_EXEMPTPAY<=7500  THEN    OKTAXRATE=.0200;
26819      IF 7500<ST_EXEMPTPAY<=9800  THEN    OKTAXRATE=.0300;
26820      IF 9800<ST_EXEMPTPAY<=12200 THEN    OKTAXRATE=.0400;
26821      IF 12200<ST_EXEMPTPAY<=15000    THEN    OKTAXRATE=.0500;
26822      IF 15000<ST_EXEMPTPAY<=21000    THEN    OKTAXRATE=.0600;
26823      IF 21000<ST_EXEMPTPAY       THEN    OKTAXRATE=.0675;
26824
26825      IF 0<=ST_EXEMPTPAY<=4900    THEN    ORTAXRATE=.0500;
26826      IF 4900<ST_EXEMPTPAY<=12400 THEN    ORTAXRATE=.0700;
26827      IF 12400<ST_EXEMPTPAY       THEN    ORTAXRATE=.0900;
26828
26829      IF 0<=ST_EXEMPTPAY      THEN    PATAXRATE=.0280;
26830
26831      RITAXRATE=(.25*fedtaxrate);
26832
26833      IF 0<=ST_EXEMPTPAY<=2440    THEN    SCTAXRATE=.0250;
26834      IF 2440<ST_EXEMPTPAY<=4880  THEN    SCTAXRATE=.0300;
26835      IF 4880<ST_EXEMPTPAY<=7320  THEN    SCTAXRATE=.0400;
26836      IF 7320<ST_EXEMPTPAY<=9760  THEN    SCTAXRATE=.0500;
26837      IF 9760<ST_EXEMPTPAY<=12200 THEN    SCTAXRATE=.0600;
26838      IF 12200<ST_EXEMPTPAY       THEN    SCTAXRATE=.0700;
26839
26840      IF 0<=ST_EXEMPTPAY      THEN    SDTAXRATE=.0000;
26841
26842      IF 0<=ST_EXEMPTPAY      THEN    TNTAXRATE=.0000;
26843
26844      IF 0<=ST_EXEMPTPAY      THEN    TXTAXRATE=.0000;
26845
26846      IF 0<=ST_EXEMPTPAY<=1726    THEN    UTTAXRATE=.0230;
26847      IF 1726<ST_EXEMPTPAY<=3452  THEN    UTTAXRATE=.0330;
26848      IF 3542<ST_EXEMPTPAY<=5178  THEN    UTTAXRATE=.0420;
26849      IF 5178<ST_EXEMPTPAY<=6902  THEN    UTTAXRATE=.0520;
26850      IF 6902<ST_EXEMPTPAY<=8626  THEN    UTTAXRATE=.0600;
26851      IF 8626<ST_EXEMPTPAY        THEN    UTTAXRATE=.0700;
26852
26853      VTTAXRATE=(.24*fedtaxrate);
26854
26855      IF 0<=ST_EXEMPTPAY<=3000    THEN    VATAXRATE=.0200;
26856      IF 3000<ST_EXEMPTPAY<=5000  THEN    VATAXRATE=.0300;
26857      IF 5000<ST_EXEMPTPAY<=17000 THEN    VATAXRATE=.0500;
26858      IF 17000<ST_EXEMPTPAY       THEN    VATAXRATE=.0575;
26859
26860      IF 0<=ST_EXEMPTPAY      THEN    WATAXRATE=.0000;
26861
26862      IF 0<=ST_EXEMPTPAY<=10000   THEN    WVTAXRATE=.0300;
26863      IF 10000<ST_EXEMPTPAY<=25000    THEN    WVTAXRATE=.0400;
26864      IF 25000<ST_EXEMPTPAY<=40000    THEN    WVTAXRATE=.0450;
26865      IF 40000<ST_EXEMPTPAY<=60000    THEN    WVTAXRATE=.0600;
26866      IF 60000<ST_EXEMPTPAY       THEN    WVTAXRATE=.0650;
26867
26868      IF 0<=ST_EXEMPTPAY<=11040   THEN    WITAXRATE=.0460;
26869      IF 11040<ST_EXEMPTPAY<=22080    THEN    WITAXRATE=.0615;
26870      IF 22080<ST_EXEMPTPAY<=165600   THEN    WITAXRATE=.0650;
26871      IF 165600<ST_EXEMPTPAY      THEN    WITAXRATE=.0675;
26872
26873      IF 0<=ST_EXEMPTPAY      THEN    WYTAXRATE=.0000;
26874  END;
26875
26876     IF State EQ 'AL' THEN    STAXRATE=ALTAXRATE;
26877     IF State EQ 'AK' THEN    STAXRATE=AKTAXRATE;
26878
26879     IF State EQ 'AZ' THEN    STAXRATE=AZTAXRATE;
26880     IF State EQ 'AR' THEN    STAXRATE=ARTAXRATE;
26881     IF State EQ 'CA' THEN    STAXRATE=CATAXRATE;
26882     IF State EQ 'CO' THEN    STAXRATE=COTAXRATE;
26883     IF State EQ 'CT' THEN    STAXRATE=CTTAXRATE;
26884     IF State EQ 'DE' THEN    STAXRATE=DETAXRATE;
26885     IF State EQ 'DC' THEN    STAXRATE=DCTAXRATE;
26886
26887     IF State EQ 'FL' THEN    STAXRATE=FLTAXRATE;
26888     IF State EQ 'GA' THEN    STAXRATE=GATAXRATE;
26889
26890     IF State EQ 'HI' THEN    STAXRATE=HITAXRATE;
26891     IF State EQ 'ID' THEN    STAXRATE=IDTAXRATE;
26892     IF State EQ 'IL' THEN    STAXRATE=ILTAXRATE;
26893     IF State EQ 'IN' THEN    STAXRATE=INTAXRATE;
26894     IF State EQ 'IA' THEN    STAXRATE=IATAXRATE;
26895     IF State EQ 'KS' THEN    STAXRATE=KSTAXRATE;
26896     IF State EQ 'KY' THEN    STAXRATE=KYTAXRATE;
26897     IF State EQ 'LA' THEN    STAXRATE=LATAXRATE;
26898     IF State EQ 'ME' THEN    STAXRATE=METAXRATE;
26899
26900     IF State EQ 'MD' THEN    STAXRATE=MDTAXRATE;
26901     IF State EQ 'MA' THEN    STAXRATE=MATAXRATE;
26902     IF State EQ 'MI' THEN    STAXRATE=MITAXRATE;
26903     IF State EQ 'MN' THEN    STAXRATE=MNTAXRATE;
26904     IF State EQ 'MS' THEN    STAXRATE=MSTAXRATE;
26905     IF State EQ 'MO' THEN    STAXRATE=MOTAXRATE;
26906     IF State EQ 'MT' THEN    STAXRATE=MTTAXRATE;
26907     IF State EQ 'NE' THEN    STAXRATE=NETAXRATE;
26908     IF State EQ 'NV' THEN    STAXRATE=NVTAXRATE;
26909     IF State EQ 'NH' THEN    STAXRATE=NHTAXRATE;
26910     IF State EQ 'NJ' THEN    STAXRATE=NJTAXRATE;
26911     IF State EQ 'NM' THEN    STAXRATE=NMTAXRATE;
26912     IF State EQ 'NY' THEN    STAXRATE=NYTAXRATE;
26913     IF State EQ 'NC' THEN    STAXRATE=NCTAXRATE;
26914     IF State EQ 'ND' THEN    STAXRATE=NDTAXRATE;
26915
26916     IF State EQ 'OH' THEN    STAXRATE=OHTAXRATE;
26917     IF State EQ 'OK' THEN    STAXRATE=OKTAXRATE;
26918     IF State EQ 'OR' THEN    STAXRATE=ORTAXRATE;
26919
26920     IF State EQ 'PA' THEN    STAXRATE=PATAXRATE;
26921
26922     IF State EQ 'RI' THEN    STAXRATE=RITAXRATE;
26923     IF State EQ 'SC' THEN    STAXRATE=SCTAXRATE;
26924     IF State EQ 'SD' THEN    STAXRATE=SDTAXRATE;
26925     IF State EQ 'TN' THEN    STAXRATE=TNTAXRATE;
26926     IF State EQ 'TX' THEN    STAXRATE=TXTAXRATE;
26927     IF State EQ 'UT' THEN    STAXRATE=UTTAXRATE;
26928     IF State EQ 'VT' THEN    STAXRATE=VTTAXRATE;
26929
26930     IF State EQ 'VA' THEN    STAXRATE=VATAXRATE;
26931     IF State EQ 'WA' THEN    STAXRATE=WATAXRATE;
26932     IF State EQ 'WV' THEN    STAXRATE=WVTAXRATE;
26933     IF State EQ 'WI' THEN    STAXRATE=WITAXRATE;
26934     IF State EQ 'WY' THEN    STAXRATE=WYTAXRATE;
26935     NEWSTATE=State;
26936
26937     IF PAYCHECK2002>=84900 THEN do;
26938        sub_fed  =fedtaxrate;
26939        sub_state=staxrate;
26940        sub_fica =0.0145;
26941        marg_rate=sub_fed+sub_state+sub_fica;
26942     end;
26943
26944     else do;
26945        sub_fed  =fedtaxrate;
26946        sub_state=staxrate;
26947        sub_fica =0.0765;
26948        marg_rate=sub_fed+sub_state+sub_fica;
26949     end;
26950
26951     ADJPREM=NEWPREM*(1-marg_rate);
26952
26953     scmedpr2=(ADJPREM/1000);
26954
26955     if hmo=1 and cost>895 then ls_chronic=1;
26956
26957     sclb=clb/1000;
26958     scub=cub/1000;
26959     sinc=paycheck2002/1000;
26960     EPO_inc =EPO*sinc;
26961     HMO_inc =HMO*sinc;
26962     HMO2_inc=HMO2*sinc;
26963     HRAG_inc=HRAG*sinc;
26964     HRAS_inc=HRAS*sinc;
26965     HSA_inc =HSA*sinc;
26966     POS_inc =POS*sinc;
26967     PPO_INC =PPO*SINC;
26968
26969     sage=age/100;
26970     EPO_AGE =EPO*sAGE;
26971     HMO_AGE =HMO*sAGE;
26972     HMO2_AGE=HMO2*sAGE;
26973     HRAG_AGE=HRAG*sAGE;
26974     HRAS_AGE=HRAS*sAGE;
26975     HSA_AGE =HSA*sAGE;
26976     POS_AGE =POS*sAGE;
26977     PPO_AGE =PPO*SAGE;
26978
26979     EPO_FEM =EPO*FEMALE;
26980     HMO_FEM =HMO*FEMALE;
26981     HMO2_FEM=HMO2*FEMALE;
26982     HRAG_FEM=HRAG*FEMALE;
26983     HRAS_FEM=HRAS*FEMALE;
26984     HSA_FEM =HSA*FEMALE;
26985     POS_FEM =POS*FEMALE;
26986     PPO_FEM =PPO*FEMALE;
26987
26988     EPO_FAM =EPO*FAMILY;
26989     HMO_FAM =HMO*FAMILY;
26990     HMO2_FAM=HMO2*FAMILY;
26991     HRAG_FAM=HRAG*FAMILY;
26992     HRAS_FAM=HRAS*FAMILY;
26993     HSA_FAM =HSA*FAMILY;
26994     POS_FAM =POS*FAMILY;
26995     PPO_FAM =PPO*FAMILY;
26996
26997     EPO_CHR =EPO*LS_CHRONIC;
26998     HMO_CHR =HMO*LS_CHRONIC;
26999     HMO2_CHR=HMO2*LS_CHRONIC;
27000     HRAG_CHR=HRAG*LS_CHRONIC;
27001     HRAS_CHR=HRAS*LS_CHRONIC;
27002     HSA_CHR =HSA*LS_CHRONIC;
27003     POS_CHR =POS*LS_CHRONIC;
27004     PPO_CHR =PPO*LS_CHRONIC;
27005
27006     if HRAS=1 OR HRAG=1 OR HSA=1 THEN CDHPNEST=1; ELSE CDHPNEST=0;
27007     IF CDHPNEST=0 THEN NDHPNEST=1 ; ELSE NDHPNEST=0;
27008
27009     NDHP_inc=NDHPNEST*sinc;
27010     CDHP_inc=CDHPNEST*sinc;
27011
27012     NDHP_age=NDHPNEST*sage;
27013     CDHP_age=CDHPNEST*sage;
27014
27015     NDHP_fam=NDHPNEST*family;
27016     CDHP_fam=CDHPNEST*family;
27017     output;
27018
27019
27020  RUN;

NOTE: There were 305408 observations read from the data set RAY.RAYCHOICE9_NOV26.
NOTE: The data set RAY.CHOICE10 has 305408 observations and 110 variables.
NOTE: DATA statement used (Total process time):
      real time           2.10 seconds
      cpu time            1.93 seconds


27021
27022  proc contents data=RAY.CHOICE10 position ;
NOTE: Writing HTML Body file: sashtml2.htm
27023  run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.78 seconds
      cpu time            0.37 seconds


27024  DATA RAY.CHOICE14;
27025     SET RAY.CHOICE10;
27026
27027     IF yvar=1 and (EPO=1 OR POS=1 OR PPO=1) THEN DO; YVARTWO=1; TRA=1; END; ELSE DO; TRA=0
27027! ; YVARTWO=0; END;
27028     IF yvar=1 and (HRAG=1 OR HRAS=1 )       THEN DO; YVARTWO=1; HRA=1; END; ELSE DO; HRA=0
27028! ; YVARTWO=0; END;
27029     IF yvar=1 and (HSA=1            )       THEN DO; YVARTWO=1; HSA=1; END; ELSE DO; HSA=0
27029! ; YVARTWO=0; END;
27030     IF YVAR=1 AND (HMO=1 OR HMO2=1  )       THEN DO; YVARTWO=1; HMO=1; END; ELSE DO; HMO=0
27030! ; YVARTWO=0; END;
27031  RUN;

NOTE: There were 305408 observations read from the data set RAY.CHOICE10.
NOTE: The data set RAY.CHOICE14 has 305408 observations and 113 variables.
NOTE: DATA statement used (Total process time):
      real time           0.93 seconds
      cpu time            0.70 seconds


27032  DATA RAY.CHOICE14;
27033     SET RAY.CHOICE10;
27034
27035     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' MEW='PPO' THEN DO; YVARTWO=1; TRA=1; END; ELSE
                                                  ---       ----                       ---
                                                  22        388                        161
                                                            76
27035!  DO; TRA=0; YVARTWO=0; END;
ERROR 22-322: Syntax error, expecting one of the following: !, !!, &, *, **, +, -, /, <, <=,
              <>, =, >, ><, >=, AND, EQ, GE, GT, IN, LE, LT, MAX, MIN, NE, NG, NL, NOTIN, OR,
              ^=, |, ||, ~=.

ERROR 388-185: Expecting an arithmetic operator.

ERROR 161-185: No matching DO/SELECT statement.

ERROR 76-322: Syntax error, statement will be ignored.

27036     IF yvar=1 and (HRAG=1 OR HRAS=1 )       THEN DO; YVARTWO=1; HRA=1; END; ELSE DO; HRA=0
27036! ; YVARTWO=0; END;
27037     IF yvar=1 and (HSA=1            )       THEN DO; YVARTWO=1; HSA=1; END; ELSE DO; HSA=0
27037! ; YVARTWO=0; END;
27038     IF YVAR=1 AND (HMO=1 OR HMO2=1  )       THEN DO; YVARTWO=1; HMO=1; END; ELSE DO; HMO=0
27038! ; YVARTWO=0; END;
27039  RUN;

NOTE: Character values have been converted to numeric values at the places given by:
      (Line):(Column).
      27035:38
NOTE: The SAS System stopped processing this step because of errors.
WARNING: The data set RAY.CHOICE14 may be incomplete.  When this step was stopped there were 0
         observations and 114 variables.
WARNING: Data set RAY.CHOICE14 was not replaced because this step was stopped.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


27040  DATA RAY.CHOICE14;
27041     SET RAY.CHOICE10;
27042
27043     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1; TRA=1; END;
27043!  ELSE DO; TRA=0; YVARTWO=0; END;
27044     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1; HRA=1; END;
27044!  ELSE DO; HRA=0; YVARTWO=0; END;
27045     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1; HSA=1; END;
27045!  ELSE DO; HSA=0; YVARTWO=0; END;
27046     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1; HMO=1; END;
27046!  ELSE DO; HMO=0; YVARTWO=0; END;
27047  RUN;

NOTE: There were 305408 observations read from the data set RAY.CHOICE10.
NOTE: The data set RAY.CHOICE14 has 305408 observations and 113 variables.
NOTE: DATA statement used (Total process time):
      real time           1.94 seconds
      cpu time            0.82 seconds


27048  DATA RAY.CHOICE14;
27049     SET RAY.CHOICE10;
27050
27051     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1; TRA=1;
27051! NEWPID=1; END; ELSE DO; TRA=0; YVARTWO=0; END;
27052     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1; HRA=1;
27052! NEWPID=2; END; ELSE DO; HRA=0; YVARTWO=0; END;
27053     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1; HSA=1;
27053! NEWPID=3; END; ELSE DO; HSA=0; YVARTWO=0; END;
27054     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1; HMO=1;
27054! NEWPID=4; END; ELSE DO; HMO=0; YVARTWO=0; END;
27055  RUN;

NOTE: There were 305408 observations read from the data set RAY.CHOICE10.
NOTE: The data set RAY.CHOICE14 has 305408 observations and 114 variables.
NOTE: DATA statement used (Total process time):
      real time           1.94 seconds
      cpu time            0.78 seconds


27056  DATA RAY.CHOICE14;
27057     SET RAY.CHOICE10;
27058
27059     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;  END; ELSE
27059! DO;  YVARTWO=0; END;
27060     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;  END; ELSE
27060! DO;  YVARTWO=0; END;
27061     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;  END; ELSE
27061! DO;  YVARTWO=0; END;
27062     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;  END; ELSE
27062! DO;  YVARTWO=0; END;
27063
27064     IF (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO;  TRA=1; NEWPID=1; END; ELSE DO;
27064! TRA=0;  END;
27065     IF (NEW4='HRAG' OR NEW4='HRAS')             THEN DO;  HRA=1; NEWPID=2; END; ELSE DO;
27065! HRA=0;  END;
27066     IF (NEW4='HSA'                      )       THEN DO;  HSA=1; NEWPID=3; END; ELSE DO;
27066! HSA=0;  END;
27067     IF (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO;  HMO=1; NEWPID=4; END; ELSE DO;
27067! HMO=0;  END;
27068
27069  RUN;

ERROR: You cannot open RAY.CHOICE14.DATA for output access with member-level control because
RAY.CHOICE14.DATA is in use by you in resource environment ViewTable Window.
NOTE: The SAS System stopped processing this step because of errors.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


27070  DATA RAY.CHOICE14;
27071     SET RAY.CHOICE10;
27072
27073     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;  END; ELSE
27073! DO;  YVARTWO=0; END;
27074     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;  END; ELSE
27074! DO;  YVARTWO=0; END;
27075     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;  END; ELSE
27075! DO;  YVARTWO=0; END;
27076     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;  END; ELSE
27076! DO;  YVARTWO=0; END;
27077
27078     IF (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO;  TRA=1; NEWPID=1; END; ELSE DO;
27078! TRA=0;  END;
27079     IF (NEW4='HRAG' OR NEW4='HRAS')             THEN DO;  HRA=1; NEWPID=2; END; ELSE DO;
27079! HRA=0;  END;
27080     IF (NEW4='HSA'                      )       THEN DO;  HSA=1; NEWPID=3; END; ELSE DO;
27080! HSA=0;  END;
27081     IF (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO;  HMO=1; NEWPID=4; END; ELSE DO;
27081! HMO=0;  END;
27082
27083  RUN;

NOTE: There were 305408 observations read from the data set RAY.CHOICE10.
NOTE: The data set RAY.CHOICE14 has 305408 observations and 114 variables.
NOTE: DATA statement used (Total process time):
      real time           2.07 seconds
      cpu time            0.89 seconds


27084  DATA PLAY1;
27085     SET RAY.CHOICE10;
27086  /*
27087     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;  END; ELSE
27087! DO;  YVARTWO=0; END;
27088     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;  END; ELSE
27088! DO;  YVARTWO=0; END;
27089     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;  END; ELSE
27089! DO;  YVARTWO=0; END;
27090     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;  END; ELSE
27090! DO;  YVARTWO=0; END;
27091  */
27092     IF (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO;  TRA=1; NEWPID=1; END; ELSE DO;
27092! TRA=0;  END;
27093     IF (NEW4='HRAG' OR NEW4='HRAS')             THEN DO;  HRA=1; NEWPID=2; END; ELSE DO;
27093! HRA=0;  END;
27094     IF (NEW4='HSA'                      )       THEN DO;  HSA=1; NEWPID=3; END; ELSE DO;
27094! HSA=0;  END;
27095     IF (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO;  HMO=1; NEWPID=4; END; ELSE DO;
27095! HMO=0;  END;
27096
27097  RUN;

NOTE: There were 305408 observations read from the data set RAY.CHOICE10.
NOTE: The data set WORK.PLAY1 has 305408 observations and 113 variables.
NOTE: DATA statement used (Total process time):
      real time           0.92 seconds
      cpu time            0.73 seconds


27098
27099  PROC SORT DATA=RAY.CHOICE14;
27100     BY STUDYID NEWPID;
27101  RUN;

NOTE: There were 305408 observations read from the data set RAY.CHOICE14.
NOTE: The data set RAY.CHOICE14 has 305408 observations and 114 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           2.55 seconds
      cpu time            1.46 seconds


27102  DATA RAY.CHOICE14;
27103     SET PLAY1;
27104     BY STUDYID NEWPID;
27105
27106     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0;
27107
27108     IF FIRST.NEWPID THEN DO;
27109     NEWPCNT+1;
27110
27111     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;
27112     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;
27113     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;
27114     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;
27115
27116     OUTPUT;
27117     END;
27118  RUN;

27118  RUN;
          -
          117
ERROR 117-185: There were 5 unclosed DO blocks.

NOTE: The SAS System stopped processing this step because of errors.
WARNING: The data set RAY.CHOICE14 may be incomplete.  When this step was stopped there were 0
         observations and 115 variables.
WARNING: Data set RAY.CHOICE14 was not replaced because this step was stopped.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


27119  DATA RAY.CHOICE14;
27120     SET PLAY1;
27121     BY STUDYID NEWPID;
27122
27123     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0;
27124
27125     IF FIRST.NEWPID THEN DO;
27126     NEWPCNT+1;
27127
27128     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN YVARTWO=1;
27129     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN YVARTWO=1;
27130     IF yvar=1 and (NEW4='HSA'                      )       THEN YVARTWO=1;
27131     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN YVARTWO=1;
27132
27133     OUTPUT;
27134     END;
27135  RUN;

27135  RUN;
          -
          117
ERROR 117-185: There was 1 unclosed DO block.

NOTE: The SAS System stopped processing this step because of errors.
WARNING: The data set RAY.CHOICE14 may be incomplete.  When this step was stopped there were 0
         observations and 115 variables.
WARNING: Data set RAY.CHOICE14 was not replaced because this step was stopped.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


27136  DATA RAY.CHOICE14;
27137     SET PLAY1;
27138     BY STUDYID NEWPID;
27139
27140     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0; END;
27141
27142     IF FIRST.NEWPID THEN DO;
27143     NEWPCNT+1;
27144
27145     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN YVARTWO=1;
27146     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN YVARTWO=1;
27147     IF yvar=1 and (NEW4='HSA'                      )       THEN YVARTWO=1;
27148     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN YVARTWO=1;
27149
27150     OUTPUT;
27151     END;
27152  RUN;

ERROR: BY variables are not properly sorted on data set WORK.PLAY1.
STATE=CO studyid=30486 AGE=64 cost=895.94 revstate=CO choices=7 FEMALE=1 DEPENDENT_NUMBER=0
FAMILY=0 CONTRACT_TYPE=EE PAYCHECK2002=90887.68 PLAN02=POS JOINTRISK=0 CHRONIC=0 LS_JOINTRISK=0
LS_CHRONIC=1 CS_Chronic=1 PLANCNT=2 NEW4=HMO Rose_name=Kaiser CO EE=685.44 ES=1410.84 EC=1278.96
EF=1872.48 CLB_EE=0 CLB_ES=0 CLB_EC=0 CLB_EF=0 COINS=0.1 CUB_EE=300 CUB_ES=300 CUB_EC=300
CUB_EF=600 PPO=0 POS=0 EPO=0 HRAS=0 HRAG=0 HSA=0 HMO=1 HMO2=0 i=8 yplan=8 PLANID=2
NEWPREM=685.44 CLB=0 CUB=300 YVAR=0 KIDDIES=0 FEDEXMPS=1 ANCHOR=1 NEWSTATE=CO sub_fed=0.3
sub_state=0.0463 sub_fica=0.0145 marg_rate=0.3608 ADJPREM=438.133248 scmedpr2=0.438133248 sclb=0
scub=0.3 sinc=90.88768 EPO_inc=0 HMO_inc=90.88768 HMO2_inc=0 HRAG_inc=0 HRAS_inc=0 HSA_inc=0
POS_inc=0 PPO_INC=0 sage=0.64 EPO_AGE=0 HMO_AGE=0.64 HMO2_AGE=0 HRAG_AGE=0 HRAS_AGE=0 HSA_AGE=0
POS_AGE=0 PPO_AGE=0 EPO_FEM=0 HMO_FEM=1 HMO2_FEM=0 HRAG_FEM=0 HRAS_FEM=0 HSA_FEM=0 POS_FEM=0
PPO_FEM=0 EPO_FAM=0 HMO_FAM=0 HMO2_FAM=0 HRAG_FAM=0 HRAS_FAM=0 HSA_FAM=0 POS_FAM=0 PPO_FAM=0
EPO_CHR=0 HMO_CHR=1 HMO2_CHR=0 HRAG_CHR=0 HRAS_CHR=0 HSA_CHR=0 POS_CHR=0 PPO_CHR=0 CDHPNEST=0
NDHPNEST=1 NDHP_inc=90.88768 CDHP_inc=0 NDHP_age=0.64 CDHP_age=0 NDHP_fam=0 CDHP_fam=0 TRA=0
NEWPID=4 HRA=0 FIRST.studyid=1 LAST.studyid=0 FIRST.NEWPID=1 LAST.NEWPID=1 NEWPCNT=1 YVARTWO=.
_ERROR_=1 _N_=2
NOTE: The SAS System stopped processing this step because of errors.
NOTE: There were 3 observations read from the data set WORK.PLAY1.
WARNING: The data set RAY.CHOICE14 may be incomplete.  When this step was stopped there were 1
         observations and 115 variables.
WARNING: Data set RAY.CHOICE14 was not replaced because this step was stopped.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


27153  PROC SORT DATA=PLAY1;
27154     BY STUDYID NEWPID;
27155  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set WORK.PLAY1 has 305408 observations and 113 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           1.40 seconds
      cpu time            1.42 seconds


27156
27157  DATA RAY.CHOICE14;
27158     SET PLAY1;
27159     BY STUDYID NEWPID;
27160
27161     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0; END;
27162
27163     IF FIRST.NEWPID THEN DO;
27164     NEWPCNT+1;
27165
27166     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN YVARTWO=1;
27167     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN YVARTWO=1;
27168     IF yvar=1 and (NEW4='HSA'                      )       THEN YVARTWO=1;
27169     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN YVARTWO=1;
27170
27171     OUTPUT;
27172     END;
27173  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.49 seconds
      cpu time            0.46 seconds


27174  DATA RAY.CHOICE14;
27175     SET PLAY1;
27176     BY STUDYID NEWPID;
27177
27178     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0; END;
27179
27180     IF FIRST.NEWPID THEN DO;
27181     NEWPCNT+1;
27182
27183     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN YVARTWO=1;
27184     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN YVARTWO=1;
27185     IF yvar=1 and (NEW4='HSA'                      )       THEN YVARTWO=1;
27186     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN YVARTWO=1;
27187
27188     OUTPUT;
27189     END;
27190
27191     RETAIN YVARTWO;
27192  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.52 seconds
      cpu time            0.51 seconds


27193  DATA RAY.CHOICE14;
27194     SET PLAY1;
27195     BY STUDYID NEWPID;
27196
27197     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0; END;
27198
27199     IF FIRST.NEWPID THEN DO;
27200     NEWPCNT+1;
27201
27202     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;  END; ELSE
27202! DO;  YVARTWO=0; END;
27203     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;  END; ELSE
27203! DO;  YVARTWO=0; END;
27204     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;  END; ELSE
27204! DO;  YVARTWO=0; END;
27205     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;  END; ELSE
27205! DO;  YVARTWO=0; END;
27206
27207     OUTPUT;
27208     END;
27209
27210     RETAIN YVARTWO;
27211  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.68 seconds
      cpu time            0.51 seconds


27212  DATA RAY.CHOICE14;
27213     SET PLAY1;
27214     BY STUDYID NEWPID;
27215
27216     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0; END;
27217
27218     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;  END; ELSE
27218! DO;  YVARTWO=0; END;
27219     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;  END; ELSE
27219! DO;  YVARTWO=0; END;
27220     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;  END; ELSE
27220! DO;  YVARTWO=0; END;
27221     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;  END; ELSE
27221! DO;  YVARTWO=0; END;
27222
27223     IF FIRST.NEWPID THEN DO;
27224     NEWPCNT+1;
27225
27226     OUTPUT;
27227     END;
27228
27229  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.53 seconds
      cpu time            0.54 seconds


27230  DATA RAY.CHOICE14;
27231     SET PLAY1;
27232     BY STUDYID NEWPID;
27233
27234     IF FIRST.STUDYID THEN DO; NEWPCNT=0; YVARTWO=0; END;
27235
27236     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;  END;
27237     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;  END;
27238     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;  END;
27239     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;  END;
27240
27241     IF FIRST.NEWPID THEN DO;
27242     NEWPCNT+1;
27243
27244     OUTPUT;
27245     END;
27246
27247  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.51 seconds
      cpu time            0.53 seconds


27248  DATA RAY.CHOICE14;
27249     SET PLAY1;
27250     BY STUDYID NEWPID;
27251
27252     YVARTWO=0;
27253
27254     IF FIRST.STUDYID THEN DO; NEWPCNT=0;  END;
27255
27256     IF yvar=1 and (NEW4='EPO' OR NEW4='POS' OR NEW4='PPO') THEN DO; YVARTWO=1;  END;
27257     IF yvar=1 and (NEW4='HRAG' OR NEW4='HRAS')             THEN DO; YVARTWO=1;  END;
27258     IF yvar=1 and (NEW4='HSA'                      )       THEN DO; YVARTWO=1;  END;
27259     IF YVAR=1 AND (NEW4='HMO' OR NEW4='HMO2'       )       THEN DO; YVARTWO=1;  END;
27260
27261     IF FIRST.NEWPID THEN DO;
27262     NEWPCNT+1;
27263
27264     OUTPUT;
27265     END;
27266
27267  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.59 seconds
      cpu time            0.50 seconds


27268  DATA RAY.CHOICE14;
27269     SET PLAY1;
27270     BY STUDYID NEWPID;
27271
27272     YVARTWO=0;
27273
27274     IF FIRST.STUDYID THEN DO; NEWPCNT=0;  END;
27275
27276     IF yvar=1 and (PLAN02='EPO' OR PLAN02='POS' OR PLAN02='PPO') THEN DO; YVARTWO=1;  END;
27277     IF yvar=1 and (PLAN02='HRAG' OR PLAN02='HRAS')             THEN DO; YVARTWO=1;  END;
27278     IF yvar=1 and (PLAN02='HSA'                      )       THEN DO; YVARTWO=1;  END;
27279     IF YVAR=1 AND (PLAN02='HMO' OR PLAN02='HMO2'       )       THEN DO; YVARTWO=1;  END;
27280
27281     IF FIRST.NEWPID THEN DO;
27282     NEWPCNT+1;
27283
27284     OUTPUT;
27285     END;
27286
27287  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.50 seconds
      cpu time            0.48 seconds


27288  DATA RAY.CHOICE14;
27289     SET PLAY1;
27290     BY STUDYID NEWPID;
27291
27292     YVARTWO=0;
27293
27294     IF FIRST.STUDYID THEN DO; NEWPCNT=0;  END;
27295
27296     IF yvar=1 and (PLAN02='EPO' OR PLAN02='POS' OR PLAN02='PPO') THEN DO; YVARTWO=1;  END;
27297     IF yvar=1 and (PLAN02='HRAG' OR PLAN02='HRAS')             THEN DO; YVARTWO=1;  END;
27298     IF yvar=1 and (PLAN02='HSA'                      )       THEN DO; YVARTWO=1;  END;
27299     IF YVAR=1 AND (PLAN02='HMO' OR PLAN02='HMO2'       )       THEN DO; YVARTWO=1;  END;
27300
27301     IF YVARTWO=1 OR FIRST.NEWPID THEN DO;
27302     NEWPCNT+1;
27303
27304     OUTPUT;
27305     END;
27306
27307  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set RAY.CHOICE14 has 189873 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.52 seconds
      cpu time            0.51 seconds


27308  DATA PLAY2;
27309     SET PLAY1;
27310     BY STUDYID NEWPID;
27311
27312     YVARTWO=0;
27313
27314     IF FIRST.STUDYID THEN DO; NEWPCNT=0;  END;
27315
27316     IF yvar=1 and (PLAN02='EPO' OR PLAN02='POS' OR PLAN02='PPO') THEN DO; YVARTWO=1;  END;
27317     IF yvar=1 and (PLAN02='HRAG' OR PLAN02='HRAS')             THEN DO; YVARTWO=1;  END;
27318     IF yvar=1 and (PLAN02='HSA'                      )       THEN DO; YVARTWO=1;  END;
27319     IF YVAR=1 AND (PLAN02='HMO' OR PLAN02='HMO2'       )       THEN DO; YVARTWO=1;  END;
27320
27321     IF YVARTWO=1 OR FIRST.NEWPID THEN DO;
27322     NEWPCNT+1;
27323
27324     OUTPUT;
27325     END;
27326
27327  RUN;

NOTE: There were 305408 observations read from the data set WORK.PLAY1.
NOTE: The data set WORK.PLAY2 has 189873 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.62 seconds
      cpu time            0.53 seconds


27328
27329  PROC SORT DATA=PLAY2;
27330     BY STUDYID NEWPID YVARTWO;
27331

NOTE: There were 189873 observations read from the data set WORK.PLAY2.
NOTE: The data set WORK.PLAY2 has 189873 observations and 115 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.51 seconds
      cpu time            0.59 seconds


27332  DATA PLAY3;
27333     SET PLAY2;
27334     BY STUDYID NEWPID YVARTWO;
27335
27336     IF LAST.NEWPID;
27337  RUN;

NOTE: There were 189873 observations read from the data set WORK.PLAY2.
NOTE: The data set WORK.PLAY3 has 166059 observations and 115 variables.
NOTE: DATA statement used (Total process time):
      real time           0.34 seconds
      cpu time            0.35 seconds


27338  PROC SORT DATA=PLAY2;
27339     BY STUDYID NEWPID YVARTWO;
27340

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


27341  DATA PLAY3 (DROP=PTWOCNT) PLAY4 (KEEP=SYUDYID PTWOCNT);
27342     SET PLAY2;
27343     BY STUDYID NEWPID YVARTWO;
27344
27345     IF FIRST.STUDYID THEN PTWOCNT=0;
27346
27347     IF LAST.NEWPID THEN DO; PTWOCNT+1; OUTPUT PLAY3; END;
27348
27349     IF LAST.STUDYID THEN OUTPUT PLAY4;
27350  RUN;

WARNING: The variable SYUDYID in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 189873 observations read from the data set WORK.PLAY2.
NOTE: The data set WORK.PLAY3 has 166059 observations and 115 variables.
NOTE: The data set WORK.PLAY4 has 48201 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.41 seconds
      cpu time            0.42 seconds


27351  DATA PLAY3 (DROP=PTWOCNT) PLAY4 (KEEP=STUDYID PTWOCNT);
27352     SET PLAY2;
27353     BY STUDYID NEWPID YVARTWO;
27354
27355     IF FIRST.STUDYID THEN PTWOCNT=0;
27356
27357     IF LAST.NEWPID THEN DO; PTWOCNT+1; OUTPUT PLAY3; END;
27358
27359     IF LAST.STUDYID THEN OUTPUT PLAY4;
27360  RUN;

NOTE: There were 189873 observations read from the data set WORK.PLAY2.
NOTE: The data set WORK.PLAY3 has 166059 observations and 115 variables.
NOTE: The data set WORK.PLAY4 has 48201 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.41 seconds
      cpu time            0.40 seconds


27361
27362  DATA RAY.CHOICE14;
27363     MERGE PLAY3 (IN=XX) PLAY4 (IN=YY);
27364     BY STUDYID;
27365     IF XX AND YY;
27366  RUN;

NOTE: There were 166059 observations read from the data set WORK.PLAY3.
NOTE: There were 48201 observations read from the data set WORK.PLAY4.
NOTE: The data set RAY.CHOICE14 has 166059 observations and 116 variables.
NOTE: DATA statement used (Total process time):
      real time           0.37 seconds
      cpu time            0.37 seconds


27367  PROC MDC DATA=RAY.choice11 maxit=200 outest=a;
ERROR: File RAY.CHOICE11.DATA does not exist.
27368     MODEL YVAR = scmedpr2,HMO,HMO2,HRAG,HRAS,HSA,POS,PPO /
                               -
                               22
                               76
ERROR: No data set open to look up variables.
ERROR 22-322: Syntax error, expecting one of the following: a name, ;, *, -, /.

ERROR 76-322: Syntax error, statement will be ignored.

27369     choice = choices
27370     type = mprobit
27371     ;
27372     id = studyid;
          --
          180
ERROR 180-322: Statement is not valid or it is used out of proper order.

27373  run;

NOTE: The SAS System stopped processing this step because of errors.
WARNING: The data set WORK.A may be incomplete.  When this step was stopped there were 0
         observations and 0 variables.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


27374  PROC MDC DATA=RAY.choice11 maxit=200 outest=a;
27375     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27376     choice = choices
                   -------
                   79
                   76
ERROR 79-322: Expecting a (.

ERROR 76-322: Syntax error, statement will be ignored.

27377     type = mprobit
27378     ;
27379     id = studyid;
          --
          180
ERROR 180-322: Statement is not valid or it is used out of proper order.

27380  run;

NOTE: The SAS System stopped processing this step because of errors.
WARNING: The data set WORK.A may be incomplete.  When this step was stopped there were 0
         observations and 0 variables.
WARNING: Data set WORK.A was not replaced because this step was stopped.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


27381  PROC MDC DATA=RAY.choice11 ;
27382     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27383     choice = choices
                   -------
                   79
                   76
ERROR 79-322: Expecting a (.
ERROR 76-322: Syntax error, statement will be ignored.
27384     type = mprobit
27385     ;
27386     *id = studyid;
27387  run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


27388  PROC MDC DATA=RAY.choice11 ;
27389     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27390     choice = ( planid )
27391     type = mprobit
27392     ;
27393     id = studyid;
          --
          180
ERROR 180-322: Statement is not valid or it is used out of proper order.

27394  run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


27395  PROC MDC DATA=RAY.choice11 ;
27396     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27397     choice = ( planid )
27398     type = mprobit
27399     ;
27400     *id = studyid;
27401  run;

ERROR: The value of choice variable is not included in the choice set.
NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.31 seconds
      cpu time            0.28 seconds


27402  PROC MDC DATA=RAY.choice11 ;
27403     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27404     choice = ( choices )
27405     type = mprobit
27406     ;
27407     id = studyid;
          --
          180
ERROR 180-322: Statement is not valid or it is used out of proper order.

27408  run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


27409  PROC MDC DATA=RAY.choice11 ;
27410     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27411     choice = ( choices )
27412     type = mprobit
27413     ;
27414     *id = studyid;
27415  run;

ERROR: The value of choice variable is not included in the choice set.
NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.28 seconds
      cpu time            0.28 seconds


27416  PROC MDC DATA=RAY.choice11 ;
27417     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27418     choice = ( choices )
27419     type = mprobit
27420     ;
27421     id studyid;
27422  run;

ERROR: The CHOICE= variable contains redundant alternatives.
NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MDC used (Total process time):
      real time           0.28 seconds
      cpu time            0.29 seconds


27423  PROC MDC DATA=RAY.choice11 ;
27424     MODEL YVAR = scmedpr2 HMO HMO2 HRAG HRAS HSA POS PPO /
27425     choice = ( planid )
27426     type = mprobit
27427     ;
27428     id studyid;
27429  run;

NOTE: Convergence criterion (FCONV=2.220446E-16) satisfied.
NOTE: At least one element of the gradient is greater than 1e-3.
NOTE: PROCEDURE MDC used (Total process time):
      real time           13:07.50
      cpu time            12:59.85


27430  PROC MDC DATA=RAY.choice11 ;
27431     MODEL YVAR = scmedpr2 scub coins HMO HMO2 HRAG HRAS HSA POS PPO
27432     HMO_chr HMO2_chr HRAG_chr HRAS_chr HSA_chr POS_chr PPO_chr
27433     HMO_inc HMO2_inc HRAG_inc HRAS_inc HSA_inc POS_inc PPO_inc
27434     /
27435     choice = ( planid )
27436     type = mprobit
27437     all
27438     ;
27439     id studyid;
27440  run;

NOTE: Convergence criterion (FCONV=2.220446E-16) satisfied.
NOTE: At least one element of the gradient is greater than 1e-3.
NOTE: PROCEDURE MDC used (Total process time):
      real time           1:12:42.17
      cpu time            1:12:07.59


